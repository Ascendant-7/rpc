<!DOCTYPE html>
<html>
  <head>
    <title>Simple Calculator</title>
    <style>
      body {
        font-family: Arial;
        padding: 50px;
      }
      input,
      select,
      button {
        padding: 10px;
        margin: 5px;
        font-size: 16px;
      }
      #result {
        font-weight: bold;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <h1>Simple Calculator</h1>

    <input type="number" id="num1" placeholder="Number 1" />
    <select id="operator">
      <option value="+">+</option>
      <option value="-">-</option>
      <option value="*">*</option>
      <option value="/">/</option>
    </select>
    <input type="number" id="num2" placeholder="Number 2" />
    <button onclick="sendRequest()">=</button>

    <p id="result"></p>

    <script>
      async function sendRequest() {
        const a = parseFloat(document.getElementById("num1").value);
        const b = parseFloat(document.getElementById("num2").value);
        const op = document.getElementById("operator").value;
        try {
          const response = await fetch("http://localhost:3000/", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ funcName: "calculate", args: { a, b, op } }),
          });
          const data = await response.json();
          document.getElementById(
            "result"
          ).textContent = `result: ${data.result}`;
        } catch (error) {
          console.log("error:", error);
          document.getElementById("result").textContent =
            "can't connect to server!";
        }
      }
    </script>
  </body>
</html>
